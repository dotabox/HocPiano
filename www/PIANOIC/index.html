<!DOCTYPE HTML>
<html>
<head>
	
	<meta name="keywords" content="HTML5,virtual piano,pianoic,piano,piano ảo">
	<meta name="author" content="BK Game Maker">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
    <meta property="og:title" content="Pianoic - Game chơi đàn piano ảo">
    <meta property="og:site_name" content="Pianoic - Game chơi đàn piano ảo">
    <meta property="og:description" content="Game piano ảo trên web">
    <meta property="og:url" content="http://pianoic.com">
    <meta property="og:image" content="http://pianoic.com/img/contentimg.png">
    <meta property="fb:app_id" content="571644532917565">
	<title>Piano</title>
	<link type='text/css' href='css/basic.css' rel='stylesheet' media='screen' />
	<link rel="icon" type="image/png" href="contentimg.png">

	<!-- IE6 "fix" for the close png image -->
	<!--[if lt IE 7]>
	<link type='text/css' href='css/basic_ie.css' rel='stylesheet' media='screen' />
	<![endif]-->
	<script src ="js/caat.js"> </script>
	<script src ="js/webfont.js"> </script>
	<script src ="js/lz-string-1.3.3-min.js"> </script>
	<script src="./js/MIDI/AudioDetect.js" type="text/javascript"></script>
	<script src="./js/MIDI/LoadPlugin.js" type="text/javascript"></script>
	<script src="./js/MIDI/Plugin.js" type="text/javascript"></script>
	<script src="./js/MIDI/Player.js" type="text/javascript"></script>
	<script src="./js/Window/DOMLoader.XMLHttp.js" type="text/javascript"></script>
	<script src="./js/Window/DOMLoader.script.js" type="text/javascript"></script>
	<!-- extras -->
	<script src="./inc/Base64.js" type="text/javascript"></script>
	 <script src="./inc/base64binary.js" type="text/javascript"></script>
	<script src ="js/lang.js"> </script>
	<script src ="js/style.js"> </script>
	<script src ="js/global.js"> </script>
	<script src ="js/statistic.js"> </script>
	<script src ="js/sound.js"> </script>
	<script src ="js/button.js"> </script>
	<script src ="js/data.js"> </script>
	<script src ="js/main2.js"> </script>
	<script src ="js/pianoKey2.js"> </script>
	<script src ="js/keyData.js"> </script>
	
</head>
<body>
	<object id="Jazz1" classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90" class="hidden">
	  <object id="Jazz2" type="audio/x-jazz" class="hidden">
	  </object>
	</object>
	<select id=midiIn onchange='changeMidi();' class="hidden">
	 <option value="">Not connected</option>
	</select>
	<script><!--
	var Jazz;
	var active_element;
	var current_in;
	var msg;
	var sel;

	//// Callback function
	function midiProc(t,a,b,c){
		console.log(a,b,c)
		if(c!="00")
		playMIDI(a,b,c)
	 // msg.innerHTML=msg.innerHTML+midiString(a,b,c)+"<br>";
	 // msg.scrollTop=msg.scrollHeight;
	}
	function midiString(a,b,c){
	 var cmd=Math.floor(a/16);
	 var note=['C','C#','D','Eb','E','F','F#','G','Ab','A','Bb','B'][b%12]+Math.floor(b/12);
	 a=a.toString(16);
	 b=(b<16?'0':'')+b.toString(16);
	 c=(c<16?'0':'')+c.toString(16);
	 var str=a+" "+b+" "+c+"    ";
	 if(c=="00"){
	  str+="Note Off   "+note;
	 }
	 else if(cmd==9){
	  str+="Note On    "+note;
	 }
	 else if(cmd==10){
	  str+="Aftertouch "+note;
	 }
	 else if(cmd==11){
	  str+="Control    "+b;
	 }
	 else if(cmd==12){
	  str+="Program    "+b;
	 }
	 else if(cmd==13){
	  str+="Aftertouch";
	 }
	 else if(cmd==14){
	  str+="Pitch Wheel";
	 }
	 return str;
	}

	//// Listbox
	function changeMidi(){
	 try{
	  if(sel.selectedIndex){
	   current_in=Jazz.MidiInOpen(sel.options[sel.selectedIndex].value,midiProc);
	  } else {
	   Jazz.MidiInClose(); current_in='';
	  }
	  for(var i=0;i<sel.length;i++){
	   if(sel[i].value==current_in) sel[i].selected=1;
	  }
	 }
	 catch(err){}
	}

	//// Connect/disconnect
	function connectMidiIn(){
	 try{
	  var str=Jazz.MidiInOpen(current_in,midiProc);
	  for(var i=0;i<sel.length;i++){
	   if(sel[i].value==str) sel[i].selected=1;
	  }
	 }
	 catch(err){}
	}
	function disconnectMidiIn(){
	 try{
	  Jazz.MidiInClose(); sel[0].selected=1;
	 }
	 catch(err){}
	}
	function onFocusIE(){
	 active_element=document.activeElement;
	 connectMidiIn();
	}
	function onBlurIE(){
	 if(active_element!=document.activeElement){ active_element=document.activeElement; return;}
	 disconnectMidiIn();
	}

	//// Initialize
	Jazz=document.getElementById("Jazz1"); if(!Jazz || !Jazz.isJazz) Jazz = document.getElementById("Jazz2");
	msg=document.getElementById("msg");
	sel=document.getElementById("midiIn");
	try{
	 current_in=Jazz.MidiInOpen(0,midiProc);
	 var list=Jazz.MidiInList();
	 for(var i in list){
	  sel[sel.options.length]=new Option(list[i],list[i],list[i]==current_in,list[i]==current_in);
	 }
	}
	catch(err){}

	if(navigator.appName=='Microsoft Internet Explorer'){ document.onfocusin=onFocusIE; document.onfocusout=onBlurIE;}
	else{ window.onfocus=connectMidiIn; window.onblur=disconnectMidiIn;}
	--></script>
	<div id="fb-root"></div>
	<div id="frame">
	<canvas id="canvas" style="display: block;margin: auto auto auto" ></canvas>
	<div id="basic-modal-content">
			<h3 id="popuplinkshare"></h3>
			<p id="copylink">Examples:</p>
			<textarea rows="9"><code id="code"></code></textarea>
		
			<p><input type="checkbox" name="vehicle" value="play" id="check"><span id="checkboxtxt"></span></input></p>
			<p><a href="https://www.facebook.com/sharer/sharer.php?u=http://pianoic.com" target="_blank"><img src="img/facebook.png" alt height="20"><span id="share"></span></a></p>
		</div>
	
	</div>
		<script src="js/jquery.min.js"></script>

		<script type="text/javascript">

		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-17922210-11']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

		</script>
		
</body>
</html>